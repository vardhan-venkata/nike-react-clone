import{q as ge,t as Ie,v as ze,j as e,w as me,x as fe,h as l,y as Ae,z as ae,C as Le,E as Ne,G as g,H as R,J as U,K as je,d as y,I as ne,M as be,N as ve,O as ye,P as we,Q as Ce,R as ke,S as Ee,B as _,U as Ge,V as He,W as qe,X as L,F as V,Y as $,T as F,Z as Oe,_ as ie,$ as Te,c as le,a as Ve,b as We,u as Ke,m as de,s as P,L as Ue,n as _e,D as ce,a0 as $e,a1 as T,a2 as ue,f as Qe,e as Je}from"./index-e83be40c.js";import{M as Se,a as Re,S as Xe}from"./chunk-3RSXBRAN-5c30fae5.js";import{G as Q}from"./chunk-JARCRF6W-ece0d4b6.js";import{t as Ye}from"./index-979d1106.js";import{E as Ze}from"./Error-bb92d5cd.js";import{A as pe}from"./chunk-V7PAE35Z-9e5918e8.js";import{M as es}from"./index.esm-61b815d4.js";import{I as ss}from"./chunk-6QYXN73V-dc314af4.js";import{F as xe}from"./chunk-H46NUPBZ-f4002c6e.js";import{T as ts}from"./chunk-4IH3O7BJ-defc2138.js";var Pe=ge(function(o,a){const s=Ie("Badge",o),{className:r,...n}=ze(o);return e.jsx(me.span,{ref:a,className:fe("chakra-badge",o.className),...n,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...s}})});Pe.displayName="Badge";function os(t){return t&&ae(t)&&ae(t.target)}function Fe(t={}){const{onChange:o,value:a,defaultValue:s,name:r,isDisabled:n,isFocusable:h,isNative:w,...M}=t,[b,C]=l.useState(s||""),v=typeof a<"u",m=v?a:b,k=l.useRef(null),p=l.useCallback(()=>{const i=k.current;if(!i)return;let u="input:not(:disabled):checked";const S=i.querySelector(u);if(S){S.focus();return}u="input:not(:disabled)";const f=i.querySelector(u);f==null||f.focus()},[]),x=`radio-${l.useId()}`,N=r||x,I=l.useCallback(i=>{const u=os(i)?i.target.value:i;v||C(u),o==null||o(String(u))},[o,v]),G=l.useCallback((i={},u=null)=>({...i,ref:Ae(u,k),role:"radiogroup"}),[]),B=l.useCallback((i={},u=null)=>({...i,ref:u,name:N,[w?"checked":"isChecked"]:m!=null?i.value===m:void 0,onChange(f){I(f)},"data-radiogroup":!0}),[w,N,I,m]);return{getRootProps:G,getRadioProps:B,name:N,ref:k,focus:p,setValue:C,value:m,onChange:I,isDisabled:n,isFocusable:h,htmlProps:M}}var[rs,as]=Le({name:"RadioGroupContext",strict:!1}),ns=ge((t,o)=>{const{colorScheme:a,size:s,variant:r,children:n,className:h,isDisabled:w,isFocusable:M,...b}=t,{value:C,onChange:v,getRootProps:m,name:k,htmlProps:p}=Fe(b),D=l.useMemo(()=>({name:k,size:s,onChange:v,colorScheme:a,value:C,variant:r,isDisabled:w,isFocusable:M}),[k,s,v,a,C,r,w,M]);return e.jsx(rs,{value:D,children:e.jsx(me.div,{...m(p,o),className:fe("chakra-radio-group",h),children:n})})});ns.displayName="RadioGroup";var is={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};function ls(t={}){const{defaultChecked:o,isChecked:a,isFocusable:s,isDisabled:r,isReadOnly:n,isRequired:h,onChange:w,isInvalid:M,name:b,value:C,id:v,"data-radiogroup":m,"aria-describedby":k,...p}=t,D=`radio-${l.useId()}`,x=Ne(),I=!!as()||!!m;let B=!!x&&!I?x.id:D;B=v??B;const i=r??(x==null?void 0:x.isDisabled),u=n??(x==null?void 0:x.isReadOnly),S=h??(x==null?void 0:x.isRequired),f=M??(x==null?void 0:x.isInvalid),[H,q]=l.useState(!1),[c,j]=l.useState(!1),[O,X]=l.useState(!1),[W,E]=l.useState(!1),[Me,De]=l.useState(!!o),K=typeof a<"u",z=K?a:Me;l.useEffect(()=>Ye(q),[]);const Y=l.useCallback(d=>{if(u||i){d.preventDefault();return}K||De(d.target.checked),w==null||w(d)},[K,i,u,w]),Z=l.useCallback(d=>{d.key===" "&&E(!0)},[E]),ee=l.useCallback(d=>{d.key===" "&&E(!1)},[E]),se=l.useCallback((d={},A=null)=>({...d,ref:A,"data-active":g(W),"data-hover":g(O),"data-disabled":g(i),"data-invalid":g(f),"data-checked":g(z),"data-focus":g(c),"data-focus-visible":g(c&&H),"data-readonly":g(u),"aria-hidden":!0,onMouseDown:R(d.onMouseDown,()=>E(!0)),onMouseUp:R(d.onMouseUp,()=>E(!1)),onMouseEnter:R(d.onMouseEnter,()=>X(!0)),onMouseLeave:R(d.onMouseLeave,()=>X(!1))}),[W,O,i,f,z,c,u,H]),{onFocus:te,onBlur:oe}=x??{},Be=l.useCallback((d={},A=null)=>{const re=i&&!s;return{...d,id:B,ref:A,type:"radio",name:b,value:C,onChange:R(d.onChange,Y),onBlur:R(oe,d.onBlur,()=>j(!1)),onFocus:R(te,d.onFocus,()=>j(!0)),onKeyDown:R(d.onKeyDown,Z),onKeyUp:R(d.onKeyUp,ee),checked:z,disabled:re,readOnly:u,required:S,"aria-invalid":U(f),"aria-disabled":U(re),"aria-required":U(S),"data-readonly":g(u),"aria-describedby":k,style:is}},[i,s,B,b,C,Y,oe,te,Z,ee,z,u,S,f,k]);return{state:{isInvalid:f,isFocused:c,isChecked:z,isActive:W,isHovered:O,isDisabled:i,isReadOnly:u,isRequired:S},getCheckboxProps:se,getRadioProps:se,getInputProps:Be,getLabelProps:(d={},A=null)=>({...d,ref:A,onMouseDown:R(d.onMouseDown,ds),"data-disabled":g(i),"data-checked":g(z),"data-invalid":g(f)}),getRootProps:(d,A=null)=>({...d,ref:A,"data-disabled":g(i),"data-checked":g(z),"data-invalid":g(f)}),htmlProps:p}}function ds(t){t.preventDefault(),t.stopPropagation()}const cs=({img:t})=>{const{isOpen:o,onOpen:a,onClose:s}=je();return e.jsxs(e.Fragment,{children:[e.jsx(Q,{templateColumns:"repeat(2, 1fr)",maxH:"xxl",gap:"10px",children:t==null?void 0:t.map((r,n)=>e.jsx(y,{children:e.jsx(ne,{src:r,onClick:a,cursor:"pointer"})},n))}),e.jsxs(be,{isOpen:o,onClose:s,size:"full",children:[e.jsx(ve,{}),e.jsxs(Se,{children:[e.jsx(ye,{}),e.jsx(we,{}),e.jsx(Ce,{children:e.jsx(Q,{templateColumns:["repeat(1, 1fr)","repeat(1, 1fr)","repeat(2, 1fr)","repeat(2, 1fr)","repeat(2, 1fr)"],gap:"15px",children:t==null?void 0:t.map((r,n)=>e.jsx(ne,{w:"100%",src:r},n))})}),e.jsx(Re,{})]})]})]})},us=t=>{const{getInputProps:o,getCheckboxProps:a}=ls(t),s=o(),r=a(),{colorMode:n}=Ee();return e.jsxs(y,{as:"label",children:[e.jsx("input",{...s}),e.jsx(y,{onClick:t.onClick,...r,cursor:"pointer",borderWidth:"1px",borderRadius:"md",boxShadow:"md",_checked:{border:`2px solid ${n==="light"?"black":"white"}`},px:5,py:3,children:t.children})]})},ps=({size:t,setMySize:o})=>{const{getRootProps:a,getRadioProps:s}=Fe({name:"SelectSize"}),r=a();return e.jsx(ke,{...r,children:t==null?void 0:t.map(n=>{const h=s({value:n});return e.jsx(us,{onClick:()=>{o(n)},...h,children:n},n)})})},he=({click:t,name:o,bgColor:a,color:s,hoverBg:r,hoverBorder:n,borderColor:h})=>e.jsx(e.Fragment,{children:e.jsx(_,{onClick:t,h:"62px",bg:a,color:s,border:`1px solid ${h}`,borderRadius:"50px",w:"100%",fontSize:"17px",my:"10px",_hover:{bg:r,borderColor:n},children:o})});function J({rating:t,numReviews:o}){return e.jsxs(y,{display:"flex",alignItems:"center",children:[Array(5).fill("").map((a,s)=>{const r=o;return r-s>=1?e.jsx(Ge,{style:{marginLeft:"1"},color:s<o/10?"teal.500":"gray.300"},s):r-s===.5?e.jsx(He,{style:{marginLeft:"1"}},s):e.jsx(qe,{style:{marginLeft:"1"}},s)}),e.jsxs(y,{as:"span",ml:"2",color:"gray.600",fontSize:"sm",children:[o," review",o>1&&"s"]})]})}function xs(t){const{name:o,reviewdescription:a,numReviews:s,...r}=t,n=L("secondaryGray.900","white"),h=L("white","navy.700");return e.jsx(y,{background:h,p:"14px",w:"full",children:e.jsxs(V,{align:"flex-start",direction:"row",children:[Math.random()*10%2>1?e.jsx(pe,{name:o,h:"60px",w:"60px",borderRadius:"8px",me:"20px"}):e.jsx(pe,{h:"60px",w:"60px",borderRadius:"8px",me:"20px"}),e.jsxs(V,{align:"flex-start",direction:"column",gap:1,w:"full",children:[e.jsxs($,{w:"full",direction:"column",gap:0,children:[e.jsx(y,{mt:{base:"10px",md:"0"},children:e.jsx(F,{color:n,fontWeight:"500",fontSize:"md",mb:"4px",children:o})}),e.jsx(J,{numReviews:s})]}),e.jsx(y,{borderWidth:"1px",rounded:"lg",shadow:"lg",p:"2",pt:"2",w:"full",maxW:"sm",ml:"-10px",maxH:"150px",children:e.jsx(F,{color:n,fontWeight:"500",fontSize:"md",children:Oe(a)})})]})]})})}function hs({data:t}){var a;const o=L("white","gray.800");return L("gray.800","white"),e.jsx(V,{w:"full",alignItems:"center",justifyContent:"center",children:e.jsx(y,{bg:o,w:"full",borderWidth:"1px",rounded:"lg",shadow:"lg",p:"6",children:e.jsx(V,{direction:"column",justifyContent:"space-between",alignContent:"center",maxH:"360px",overflow:"auto",sx:{"&::-webkit-scrollbar":{display:"none"}},children:(a=t==null?void 0:t.ratings)==null?void 0:a.map(s=>{var r;return e.jsx(xs,{name:((r=s==null?void 0:s.userName)==null?void 0:r.split(" ").length)>1?s.userName.split(" null")[0].charAt(0).toUpperCase()+s.userName.split(" null")[0].slice(1):"Venketesh Rushi",reviewdescription:s.reviewdes,numReviews:s.rating},s.reviewdes)})})})})}function Fs(){ie("(min-width: 995px)");const[t]=ie("(min-width: 1025px)"),[o,a]=l.useState(!1),[s,r]=l.useState({}),[n,h]=l.useState(!1),[w,M]=l.useState(!1);let[b,C]=l.useState({rating:5,reviewdes:""});const v=Te(),m=le(c=>c.auth.token),k=le(c=>c.auth.user),p=Ve(),D=We(),x=Ke();l.useEffect(()=>{q()},[v]);const N=L("14px 17px 40px 4px rgba(112, 144, 176, 0.18)","14px 17px 40px 4px rgba(112, 144, 176, 0.06)"),I=L("gray.800","white"),{isOpen:G,onOpen:B,onClose:i}=je();let u=c=>{C({...b,[c.target.name]:c.target.value})},S=async()=>{if(m.length>0){if(b.reviewdes===""){P(p,"Please add description.","error");return}try{let c=await de.post("/product/addreview",{id:+v.id,rating:b.rating,reviewdes:b.reviewdes,userid:k.id});C({rating:5,reviewdes:""}),i(),P(p,"Review added successfuly.","success"),q()}catch(c){console.log(c)}}else P(p,"Please Login First","error")};const f=c=>{if(o===!1)P(p,"Please select a Size","error");else if(m.length>0){let j=["add",{...c,size:o,quantity:1},m,p];x(Qe(j)),D("/cart")}else P(p,"Please Login First","error")},H=async()=>{if(!m)P(p,"Please login first","error"),D("/login");else try{let j=await x(Je([s,m,p])).unwrap();P(p,j.message?j.message:"Item added to the favourites","success")}catch(c){c.response.data.message==="Already present in the Favourite"?P(p,c.response.data.message,"info"):P(p,"Something went wrong!","error")}},q=async()=>{var c;h(!0);try{let j=await de.get(`/product/getsingleproduct/${v.id}`);console.log("product data",j.data.ratings);let O=(c=j==null?void 0:j.data)==null?void 0:c.ratings;r(j.data),h(!1)}catch{M(!0),P(p,"Product Not Found","error"),D(-1,{replace:!0})}};return n?e.jsx(Ue,{}):w?e.jsx(Ze,{}):e.jsxs(Q,{p:"10px",gap:["40px","40px","4%","4%","4%"],templateColumns:["100%","100%","55% 41%","62% 34%","62% 34%"],w:["100%","100%","100%","100%","90%"],m:["40px auto 100px","40px auto 100px","40px auto 60px","40px auto 60px","40px auto 60px"],children:[e.jsx(cs,{img:s==null?void 0:s.img}),e.jsxs(y,{px:["20px","40px"],children:[e.jsx(F,{fontSize:"29px",children:s==null?void 0:s.title}),e.jsx(F,{children:s==null?void 0:s.description}),e.jsxs(F,{fontSize:"22px",mt:"20px",children:["â‚¹ ",_e(+(s==null?void 0:s.price))]}),e.jsx(F,{color:"gray",children:"incl. of taxes and duties"}),e.jsx(F,{fontSize:"18px",mt:"30px",mb:"10px",children:"Select Size"}),e.jsx(y,{mb:"30px",children:e.jsx(ps,{size:s==null?void 0:s.size,setMySize:a})}),e.jsx(he,{click:()=>f(s),name:"Add to Bag",bgColor:"black",color:"white",hoverBg:"#1e1e1e",borderColor:"transparent"}),e.jsx(he,{click:H,name:"Favourite",bgColor:"white",color:"black",hoverBorder:"black",borderColor:"#cecdce"}),e.jsx(ce,{my:"30px"}),e.jsx(F,{fontSize:"18px",mb:"10px",textDecoration:"underline",children:"Product Deatils"}),e.jsxs($e,{fontSize:"18px",children:[e.jsxs(T,{children:["Gender: ",s==null?void 0:s.gender]}),e.jsxs(T,{children:["Category: ",s==null?void 0:s.category]}),e.jsxs(T,{children:["Colour: ",s==null?void 0:s.color]}),e.jsx(T,{children:e.jsxs(ke,{direction:["column","row"],spacing:"5px",children:[e.jsx(F,{children:"Rating:"}),Object.keys(s).length>0?e.jsx(J,{numReviews:s.ratings.length}):e.jsx(J,{numReviews:0})]})})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx(ce,{my:"18px"}),e.jsxs(y,{display:"flex",alignItems:"baseline",justifyContent:"space-between",mb:[5,5,5,3,3],children:[e.jsx(Pe,{rounded:"full",px:"2",fontSize:"0.8em",color:"#303030",children:e.jsx(F,{fontSize:"16px",color:I,children:"Customer Reviews"})}),e.jsx(ss,{icon:e.jsx(es,{}),variant:"outline",onClick:B}),e.jsxs(be,{isOpen:G,onClose:i,isCentered:!0,children:[e.jsx(ve,{}),e.jsxs(Se,{children:[e.jsx(ye,{children:"Add Review"}),e.jsx(we,{}),e.jsx(Ce,{children:e.jsx(y,{rounded:"lg",bg:L("white","gray.700"),p:8,shadow:N,children:e.jsxs($,{spacing:4,children:[e.jsxs(ue,{id:"ratingnum",children:[e.jsxs(xe,{children:["Please share your thoughts about this ",s.title," ","Product. How would you rate your experience using it?"]}),e.jsxs(Xe,{name:"ratingnum",value:b.rating,onChange:u,placeholder:"Select option",children:[e.jsx("option",{defaultValue:!0,value:5,children:"5"}),e.jsx("option",{value:4,children:"4"}),e.jsx("option",{value:3,children:"3"}),e.jsx("option",{value:2,children:"2"}),e.jsx("option",{value:1,children:"1"})]})]}),e.jsxs(ue,{id:"reviewdes",children:[e.jsx(xe,{children:"Feel free to share your thoughts about this product right here. How has your experience been so far?"}),e.jsx(ts,{maxLength:"100",value:b.reviewdes,onChange:u,placeholder:"Enter your review description here...",size:"sm",name:"reviewdes"})]}),e.jsx($,{spacing:10})]})})}),e.jsxs(Re,{children:[e.jsx(_,{color:"white",bgColor:"rgb(0,0,0)",_hover:{boxShadow:"xl"},pt:5,pb:5,mr:3,textAlign:"center",onClick:S,children:"ADD"}),e.jsx(_,{colorScheme:"blue",mr:3,onClick:i,children:"Close"})]})]})]})]}),e.jsx(hs,{data:s})]})]})]})}export{Fs as default};
